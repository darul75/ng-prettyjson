<html>
<!-- to run this demo, execute "bower install" first -->
<head>
	<!--<link rel="stylesheet" type="text/css" href="../src/ng-prettyjson.css"/>-->
  <link rel="stylesheet" type="text/css" href="../dist/ng-prettyjson.min.css"/>
	<script type="text/javascript" src="../lib/angular/angular.min.js"></script>
  
	<!--  
  <script type="text/javascript" src="../dist/ng-prettyjson.min.js"></script>
  -->
  
	<script type="text/javascript" src="../src/ng-prettyjson.js"></script>
  <script type="text/javascript" src="../src/ng-prettyjson-tmpl.js"></script>
  
	<script type="text/javascript" src="../lib/requirejs/require.js"  charset="utf-8"></script>
	<script type="text/javascript" src="../src/ace.js"  charset="utf-8"></script>
</head>
<body>

	<div ng-app='myApp' ng-controller='ctrl'>
    <button ng-click="change()">CHANGE</button>
		<pretty-json json="obj" edition="true" on-edit="test(newJson)" id="1"></pretty-json>
    <pretty-json json="obj" edition="true" on-edit="test(newJson)" id="2"></pretty-json>
		<pretty-json json="obj"></pretty-json>    
	</div>

	<script type="text/javascript">	

		angular.module('myApp', ['ngPrettyJson']);

        function ctrl($scope) {
            $scope.obj = {a: 1, 'b': 'foo', c: [false, null, {d: {e: 1.3e5}}]};

            $scope.$on('json-updated', function(msg, value) {
            	console.log(value);
            });

            $scope.test = function(newJson) {
            	console.log(newJson);
            };

            $scope.change = function() {
                $scope.obj = {a: 1, 'b': 'foo', c: [false, null, {d: {e: 1.3e5}}], e: [false, null, {d: {e: 1.3e5}}], f: [false, null, {d: {e: 1.3e5}}]};
            };
        }
	</script>

</body>
</html>
